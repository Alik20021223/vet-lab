# ๐ ะะพะบัะผะตะฝัะฐัะธั ะฟะพ ัะฐะทะฒะตัััะฒะฐะฝะธั

ะญัะพั ะฟัะพะตะบั ัะพะดะตัะถะธั ะฒัะต ะฝะตะพะฑัะพะดะธะผัะต ัะฐะนะปั ะดะปั ัะฐะทะฒะตัััะฒะฐะฝะธั ะฝะฐ VPS ัะตัะฒะตัะต.

## ๐ ะคะฐะนะปั ัะฐะทะฒะตัััะฒะฐะฝะธั

### ะัะฝะพะฒะฝัะต ัะฐะนะปั:
- **`DEPLOYMENT_GUIDE.md`** - ะะพะปะฝะพะต ะฟะพัะฐะณะพะฒะพะต ััะบะพะฒะพะดััะฒะพ ะฟะพ ัะฐะทะฒะตัััะฒะฐะฝะธั
- **`QUICK_DEPLOY.md`** - ะัะฐัะบะฐั ะธะฝััััะบัะธั ะดะปั ะพะฟััะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- **`docker-compose.production.yml`** - Docker Compose ะบะพะฝัะธะณััะฐัะธั ะดะปั production
- **`env.production.template`** - ะจะฐะฑะปะพะฝ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
- **`nginx-vps.conf`** - ะะพะฝัะธะณััะฐัะธั Nginx ะดะปั VPS

### ะกะบัะธะฟัั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ (ะฒ ะฟะฐะฟะบะต `scripts/`):
- **`setup-vps.sh`** - ะะฒัะพะผะฐัะธัะตัะบะฐั ะฝะฐัััะพะนะบะฐ ะฝะพะฒะพะณะพ VPS ัะตัะฒะตัะฐ
- **`deploy.sh`** - ะะฐะทะฒะตัััะฒะฐะฝะธะต/ะพะฑะฝะพะฒะปะตะฝะธะต ะฟัะธะปะพะถะตะฝะธั
- **`backup.sh`** - ะกะพะทะดะฐะฝะธะต ัะตะทะตัะฒะฝัั ะบะพะฟะธะน ะะ ะธ ัะฐะนะปะพะฒ
- **`export-database.sh`** - ะญะบัะฟะพัั ะปะพะบะฐะปัะฝะพะน ะะ ะธ ัะฐะนะปะพะฒ ะดะปั ะฟะตัะตะฝะพัะฐ
- **`import-database.sh`** - ะะผะฟะพัั ะดะฐะฝะฝัั ะฝะฐ ัะตัะฒะตัะต

### Frontend:
- **`frontend/Dockerfile`** - Docker ะพะฑัะฐะท ะดะปั React ะฟัะธะปะพะถะตะฝะธั
- **`frontend/nginx.conf`** - Nginx ะบะพะฝัะธะณััะฐัะธั ะดะปั ะบะพะฝัะตะนะฝะตัะฐ frontend

### ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะฐะนะปั:
- **`.dockerignore`** - ะัะบะปััะตะฝะธั ะดะปั Docker ัะฑะพัะบะธ
- **`backend/.dockerignore`** - ะัะบะปััะตะฝะธั ะดะปั backend
- **`frontend/.dockerignore`** - ะัะบะปััะตะฝะธั ะดะปั frontend

## ๐ ะัััััะน ััะฐัั

### ะะปั ะฝะพะฒะธัะบะพะฒ:
ะกะปะตะดัะนัะต ะฟะพะดัะพะฑะฝะพะน ะธะฝััััะบัะธะธ ะฒ **`DEPLOYMENT_GUIDE.md`**

### ะะปั ะพะฟััะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน:
ะัะฟะพะปัะทัะนัะต **`QUICK_DEPLOY.md`** ะดะปั ะฑััััะพะณะพ ัะฐะทะฒะตัััะฒะฐะฝะธั

## ๐ ะััะธัะตะบัััะฐ ัะฐะทะฒะตัััะฒะฐะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           VPS Server                            โ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Nginx (Host - Port 80/443)              โ  โ
โ  โ  - Reverse Proxy                         โ  โ
โ  โ  - SSL Termination                       โ  โ
โ  โ  - Load Balancing                        โ  โ
โ  โโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ  โ
โ             โ                โ                  โ
โ  โโโโโโโโโโโโผโโโโโโ   โโโโโโโโผโโโโโโโ          โ
โ  โ Docker Network โ   โ   Uploads   โ          โ
โ  โ                โ   โ   /static   โ          โ
โ  โ  โโโโโโโโโโโโ  โ   โโโโโโโโโโโโโโโ          โ
โ  โ  โ Frontend โ  โ                            โ
โ  โ  โ (Build + โ  โ   ะฅะพัั: backend/uploads/   โ
โ  โ  โ  Nginx)  โ  โ                            โ
โ  โ  โ Port:8080โ  โ   Docker: /app/uploads     โ
โ  โ  โโโโโโโโโโโโ  โ                            โ
โ  โ                โ                            โ
โ  โ  โโโโโโโโโโโโ  โ                            โ
โ  โ  โ Backend  โ  โ                            โ
โ  โ  โ (Fastify)โ  โ   โ๏ธ Frontend = BUILD, ะฝะต  โ
โ  โ  โ Port:3000โ  โ      dev server!           โ
โ  โ  โโโโโโฌโโโโโโ  โ                            โ
โ  โ       โ        โ   ะัะฟะพะปัะทัะตััั npm run     โ
โ  โ  โโโโโโผโโโโโโ  โ   build + Nginx            โ
โ  โ  โPostgreSQLโ  โ                            โ
โ  โ  โPort: 5432โ  โ                            โ
โ  โ  โโโโโโโโโโโโ  โ                            โ
โ  โโโโโโโโโโโโโโโโโโ                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัะพัะตัั ัะฐะทะฒะตัััะฒะฐะฝะธั

### 1. ะะพะดะณะพัะพะฒะบะฐ VPS
```bash
# ะะฐ VPS ัะตัะฒะตัะต (ะบะฐะบ root)
bash scripts/setup-vps.sh
```

### 2. ะะปะพะฝะธัะพะฒะฐะฝะธะต ะฟัะพะตะบัะฐ
```bash
cd /home
git clone https://github.com/your-username/vet-lab.git
cd vet-lab
```

### 3. ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั
```bash
# ะกะพะทะดะฐัั .env.production ะธะท ัะฐะฑะปะพะฝะฐ
cp env.production.template .env.production
nano .env.production
```

### 4. ะะฐะทะฒะตัััะฒะฐะฝะธะต
```bash
bash scripts/deploy.sh
```

### 5. ะะฐัััะพะนะบะฐ Nginx
```bash
# ะกะบะพะฟะธัะพะฒะฐัั ะบะพะฝัะธะณััะฐัะธั
sudo cp nginx-vps.conf /etc/nginx/sites-available/vetlab
sudo ln -s /etc/nginx/sites-available/vetlab /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

### 6. SSL ัะตััะธัะธะบะฐั
```bash
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com
```

## ๐๏ธ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะธะปะพะถะตะฝะธะตะผ

### ะัะพัะผะพัั ะปะพะณะพะฒ
```bash
docker compose -f docker-compose.production.yml logs -f
```

### ะะตัะตะทะฐะฟััะบ ัะตัะฒะธัะพะฒ
```bash
docker compose -f docker-compose.production.yml restart
```

### ะะฑะฝะพะฒะปะตะฝะธะต ะฟัะธะปะพะถะตะฝะธั
```bash
git pull
bash scripts/deploy.sh
```

### ะกะพะทะดะฐะฝะธะต ัะตะทะตัะฒะฝะพะน ะบะพะฟะธะธ
```bash
bash scripts/backup.sh
```

### ะะตัะตะฝะพั ะดะฐะฝะฝัั ั ะปะพะบะฐะปัะฝะพะณะพ ะบะพะผะฟัััะตัะฐ
```bash
# ะะฐ ะปะพะบะฐะปัะฝะพะผ ะะ
bash scripts/export-database.sh
scp -r database-export root@your-server-ip:/home/vet-lab/

# ะะฐ ัะตัะฒะตัะต
bash scripts/import-database.sh
```

**๐ ะะพะดัะพะฑะฝะตะต:** ัะผ. `TRANSFER_DATA_GUIDE.md`

### ะกะพะทะดะฐะฝะธะต ะฐะดะผะธะฝะธัััะฐัะพัะฐ
```bash
docker compose -f docker-compose.production.yml exec backend npm run create-admin
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### ะะฑัะทะฐัะตะปัะฝะพ ะธะทะผะตะฝะธัะต:
1. โ ะะฐัะพะปั ะฑะฐะทั ะดะฐะฝะฝัั (`DB_PASSWORD`)
2. โ JWT ัะตะบัะตัั (`JWT_SECRET`, `REFRESH_SECRET`)
3. โ CORS origin ะฝะฐ ะฒะฐั ะดะพะผะตะฝ

### ะะตะบะพะผะตะฝะดัะตััั:
- ะะฐัััะพะนัะต firewall (UFW)
- ะัะฟะพะปัะทัะนัะต SSL ัะตััะธัะธะบะฐัั (Let's Encrypt)
- ะะตะณัะปััะฝะพ ะดะตะปะฐะนัะต ัะตะทะตัะฒะฝัะต ะบะพะฟะธะธ
- ะะฑะฝะพะฒะปัะนัะต ัะธััะตะผั ะธ ะทะฐะฒะธัะธะผะพััะธ
- ะะฐัััะพะนัะต ะผะพะฝะธัะพัะธะฝะณ ะปะพะณะพะฒ

## ๐ ะะพะฝะธัะพัะธะฝะณ

### ะัะพะฒะตัะบะฐ ััะฐัััะฐ ะบะพะฝัะตะนะฝะตัะพะฒ
```bash
docker compose -f docker-compose.production.yml ps
```

### ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะตััััะพะฒ
```bash
docker stats
```

### ะัะพะฒะตัะบะฐ ะดะธัะบะพะฒะพะณะพ ะฟัะพัััะฐะฝััะฒะฐ
```bash
df -h
```

### ะัะพะฒะตัะบะฐ ะปะพะณะพะฒ Nginx
```bash
sudo tail -f /var/log/nginx/vetlab_error.log
sudo tail -f /var/log/nginx/vetlab_access.log
```

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะะพะฝัะตะนะฝะตัั ะฝะต ะทะฐะฟััะบะฐัััั
```bash
# ะัะพะฒะตัััะต ะปะพะณะธ
docker compose -f docker-compose.production.yml logs

# ะะตัะตัะพะทะดะฐะนัะต ะบะพะฝัะตะนะฝะตัั
docker compose -f docker-compose.production.yml down
docker compose -f docker-compose.production.yml up -d --force-recreate
```

### ะะฐะทะฐ ะดะฐะฝะฝัั ะฝะตะดะพัััะฟะฝะฐ
```bash
# ะัะพะฒะตัััะต ััะฐััั ะบะพะฝัะตะนะฝะตัะฐ ะะ
docker compose -f docker-compose.production.yml ps db

# ะะตัะตะทะฐะฟัััะธัะต ะะ
docker compose -f docker-compose.production.yml restart db
```

### 502 Bad Gateway
```bash
# ะัะพะฒะตัััะต, ััะพ backend ะทะฐะฟััะตะฝ
docker compose -f docker-compose.production.yml ps backend

# ะัะพะฒะตัััะต ะปะพะณะธ backend
docker compose -f docker-compose.production.yml logs backend

# ะัะพะฒะตัััะต ะบะพะฝัะธะณััะฐัะธั Nginx
sudo nginx -t
```

### ะะตัะฒะฐัะบะฐ ะผะตััะฐ ะฝะฐ ะดะธัะบะต
```bash
# ะฃะดะฐะปะธัะต ะฝะตะธัะฟะพะปัะทัะตะผัะต Docker ะพะฑัะฐะทั
docker system prune -a

# ะฃะดะฐะปะธัะต ััะฐััะต ะปะพะณะธ
sudo journalctl --vacuum-time=7d
```

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะฟะพะผะพัั

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:
1. ะัะพะฒะตัััะต ะปะพะณะธ ะบะพะฝัะตะนะฝะตัะพะฒ
2. ะัะพะฒะตัััะต ะปะพะณะธ Nginx
3. ะัะพะฒะตัััะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฒ `.env.production`
4. ะฃะฑะตะดะธัะตัั, ััะพ ะฒัะต ะฟะพััั ะพัะบัััั ะฒ firewall
5. ะัะพะฒะตัััะต, ััะพ DNS ะฝะฐัััะพะตะฝ ะฟัะฐะฒะธะปัะฝะพ (ะดะปั ะดะพะผะตะฝะฐ)

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

- [Docker Documentation](https://docs.docker.com/)
- [Nginx Documentation](https://nginx.org/en/docs/)
- [Prisma Documentation](https://www.prisma.io/docs/)
- [Fastify Documentation](https://www.fastify.io/)
- [React Documentation](https://react.dev/)
- [Let's Encrypt](https://letsencrypt.org/)

## โ ะะพะฝััะพะปัะฝัะน ัะฟะธัะพะบ ัะฐะทะฒะตัััะฒะฐะฝะธั

- [ ] VPS ัะตัะฒะตั ะฝะฐัััะพะตะฝ (Docker, Nginx ัััะฐะฝะพะฒะปะตะฝั)
- [ ] ะัะพะตะบั ะบะปะพะฝะธัะพะฒะฐะฝ ะฝะฐ ัะตัะฒะตั
- [ ] `.env.production` ัะพะทะดะฐะฝ ะธ ะฝะฐัััะพะตะฝ
- [ ] ะกะธะปัะฝัะต ะฟะฐัะพะปะธ ะธ ัะตะบัะตัั ัะณะตะฝะตัะธัะพะฒะฐะฝั
- [ ] Docker ะบะพะฝัะตะนะฝะตัั ะทะฐะฟััะตะฝั
- [ ] ะะธะณัะฐัะธะธ ะฑะฐะทั ะดะฐะฝะฝัั ะฒัะฟะพะปะฝะตะฝั
- [ ] ะะดะผะธะฝะธัััะฐัะพั ัะพะทะดะฐะฝ
- [ ] Nginx ะฝะฐัััะพะตะฝ ะบะฐะบ ะพะฑัะฐัะฝัะน ะฟัะพะบัะธ
- [ ] SSL ัะตััะธัะธะบะฐั ัััะฐะฝะพะฒะปะตะฝ
- [ ] Firewall ะฝะฐัััะพะตะฝ
- [ ] ะะตะทะตัะฒะฝะพะต ะบะพะฟะธัะพะฒะฐะฝะธะต ะฝะฐัััะพะตะฝะพ
- [ ] ะัะธะปะพะถะตะฝะธะต ะดะพัััะฟะฝะพ ัะตัะตะท ะฑัะฐัะทะตั
- [ ] ะะพะณะธ ะฟัะพะฒะตัะตะฝั ะฝะฐ ะพัะธะฑะบะธ

---

**ะฃัะฟะตัะฝะพะณะพ ัะฐะทะฒะตัััะฒะฐะฝะธั! ๐**
