# üì¶ –ö–∞–∫ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏!

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –æ–∫–æ–Ω—á–∞–Ω–∏—è—Ö —Å—Ç—Ä–æ–∫ (Windows CRLF –≤–º–µ—Å—Ç–æ Unix LF). –°–µ–π—á–∞—Å –≤—Å—ë –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç

–ï—Å—Ç—å –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
bash scripts/export-database.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (SQLite –∏–ª–∏ PostgreSQL)
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç SQL –¥–∞–º–ø
- ‚úÖ –ê—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç `backend/uploads/`
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫—É `database-export/` —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

```bash
bash scripts/export-data-simple.sh
```

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:**
- –ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é (–¥–ª—è SQLite)
- –ê—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç uploads
- –ü—Ä–æ—â–µ –∏ –Ω–∞–¥—ë–∂–Ω–µ–µ

## üìã –†—É—á–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É
```bash
mkdir -p database-export
```

### –®–∞–≥ 2: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ SQLite:
```bash
cd backend
# –ù–∞–π–¥–∏—Ç–µ –ø—É—Ç—å –∫ –ë–î –≤ .env (DATABASE_URL)
# –û–±—ã—á–Ω–æ —ç—Ç–æ: ./prisma/dev.db

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª
cp prisma/dev.db ../database-export/database.db

# –°–æ–∑–¥–∞–π—Ç–µ SQL –¥–∞–º–ø (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω sqlite3)
sqlite3 prisma/dev.db .dump > ../database-export/database.sql

cd ..
```

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PostgreSQL:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ backend/.env
pg_dump -U your_user -d your_database > database-export/database.sql
```

### –®–∞–≥ 3: –ê—Ä—Ö–∏–≤–∏—Ä—É–π—Ç–µ uploads
```bash
tar -czf database-export/uploads.tar.gz backend/uploads/
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
```bash
ls -lh database-export/
```

## üì§ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ü–æ—Å–ª–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
# –ß–µ—Ä–µ–∑ SCP
scp -r database-export root@your-server-ip:/home/vet-lab/

# –ò–ª–∏ —á–µ—Ä–µ–∑ rsync (–ª—É—á—à–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)
rsync -avz --progress database-export/ root@your-server-ip:/home/vet-lab/database-export/
```

## üì• –ò–º–ø–æ—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
cd /home/vet-lab
bash scripts/import-database.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
# –ò–º–ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker compose -f docker-compose.production.yml exec -T db \
  psql -U vetlab_user vetlab_db < database-export/database.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ uploads
tar -xzf database-export/uploads.tar.gz

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose -f docker-compose.production.yml restart
```

## ‚ùì –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "command not found"
**–†–µ—à–µ–Ω–∏–µ:** –§–∞–π–ª –∏–º–µ–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ç—Ä–æ–∫. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ:
```bash
sed -i '' 's/\r$//' scripts/export-database.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: "backend/.env not found"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd /Users/alishergaffarov/Desktop/js/vet-lab
ls backend/.env  # –î–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
```

### –ü—Ä–æ–±–ª–µ–º–∞: sqlite3 –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
```bash
# macOS
brew install sqlite3

# Ubuntu/Debian
sudo apt install sqlite3
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é:
```bash
cp backend/prisma/dev.db database-export/
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã uploads
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ rsync —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º:
```bash
rsync -avz --progress backend/uploads/ root@your-server-ip:/home/vet-lab/backend/uploads/
```

## üìù –ß—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è

‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –í—Å–µ —Ç–æ–≤–∞—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–∞
- –í—Å–µ —É—Å–ª—É–≥–∏
- –ù–æ–≤–æ—Å—Ç–∏
- –ö–æ–º–∞–Ω–¥–∞
- –ö–æ–Ω—Ç–∞–∫—Ç—ã
- –ò –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ

‚úÖ **–§–∞–π–ª—ã:**
- –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ `backend/uploads/`
- –õ–æ–≥–æ—Ç–∏–ø—ã
- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
- –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∫–æ–º–∞–Ω–¥—ã
- –ò —Ç.–¥.

## üéØ –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

```bash
# 1. –≠–∫—Å–ø–æ—Ä—Ç (–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ü–ö)
bash scripts/export-database.sh

# 2. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -r database-export root@YOUR_SERVER_IP:/home/vet-lab/

# 3. –ò–º–ø–æ—Ä—Ç (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
ssh root@YOUR_SERVER_IP
cd /home/vet-lab
bash scripts/import-database.sh
```

**–ì–æ—Ç–æ–≤–æ!** –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã. üéâ
